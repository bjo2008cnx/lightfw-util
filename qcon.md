##信鸽推送系统
  各个节点都是冗余备份的
  部署一套环境覆盖所有的运营商
  构建长连接
  通过改造内核
  海量信息推送，解决通道选择的问题

  信鸽服务虚拟化
  性能优化的各个层次
  通过硬件指令实现性能提升3倍

perf用于优化性能

分布式队列
   paxos下副本变成3份
   kafka不用paxos实现
   分布式锁需要客户端协助
   
黑产   
   通过前端加密，升级验证码
   平时注册账号搞活动时把券都领走，造成正常用户无法领券引起负面情绪
   找无人经营的店获取未按时发货费
   对业务非完全透明，基础中间件能力未完全达到

异地多活
    为了确保多活两地需要复制双向复制，包括数据库，zk，队列
    对于数据需要全局唯一的，只有一个机房可以写，竞争机房只读
    每个机房数据都是全量的，只处理本机房的数据
    缓存不复制，而是在切换时删除被切换机房的缓存
    dal:如果发现数据不是本机房的，会拒绝掉
    如果只有返回ok不能确保心跳正常，需要检测业务
    日志写的响应批量返回













 


